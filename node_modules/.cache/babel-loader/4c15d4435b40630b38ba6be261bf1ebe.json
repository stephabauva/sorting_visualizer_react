{"ast":null,"code":"var _jsxFileName = \"/Users/urdoom/sorting_visualizer_react/src/sortingVisualizer/SortingVisualizer.js\";\nimport React from \"react\";\nimport './SortingVisualizer.css';\nimport { connect } from 'react-redux';\nimport { doMergeSort } from '../sortingAlgorithms/SortingAlgorithms';\nimport { doQuickSort } from '../sortingAlgorithms/QuickSort';\nimport { doBubbleSort } from '../sortingAlgorithms/BubbleSort';\nimport { doInsertionSort } from '../sortingAlgorithms/InsertionSort';\n/* ***** making this component check ig an element of the store has changed ******\nlinks:\nhttps://stackoverflow.com/questions/36557089/how-to-listen-for-specific-property-changes-in-redux-store-after-an-action-is-di\nhttps://stackoverflow.com/questions/36557089/how-to-listen-for-specific-property-changes-in-redux-store-after-an-action-is-di \n\n*********************************** */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst mapStateToProps = state => {\n  // the store is accessible because we added Provider in index.js\n  // console.log('SortingViz mapStateToProps:',state.listState);\n  return {\n    myStoredList: state.listState\n  };\n}; // This is the main color of the array bars.\n\n\nconst INIT_COLOR = 'turquoise';\nconst RED_COLOR = 'red';\nconst SELECT_COLOR = '#8000ff';\nvar SWAP_COLOR, OVERWRITTE_COLOR;\nSWAP_COLOR = OVERWRITTE_COLOR = '#f5bf42';\nconst FINAL_SORTED_COLOR = '#7dff84';\nconst ANIMATION_SPEED_MS = 10;\n\nclass SortingVisualizer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      array: []\n    }; // console.log('this.array:', this.state.array);\n  }\n  /* compare previous list in store to the new actual list generated */\n\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // console.log('prevprops:', prevProps); // -> { myStoredList: Array(..), dispatch: f }\n    // console.log('this.props:', this.props);\n    if (prevProps.myStoredList !== this.props.myStoredList) {\n      // Do whatever you want\n      // console.log('previous list:',prevProps.lmyStoredList);\n      // console.log('actual list:',this.props.myStoredList);\n      this.setState({\n        array: this.props.myStoredList\n      });\n    }\n  }\n  /* ************************************************************ */\n  //to execute function asynchronously (async + await + new Promise + setTimout), link: https://dev.to/jameseaster/visualizing-merge-sort-3mnc\n\n\n  async mergeSort() {\n    const animations = doMergeSort(this.state.array);\n    let endViz = 0;\n\n    for (let i = 0; i < animations.length; i++) {\n      const arrayBars = document.getElementsByClassName('array-bar'); // get the array generated\n\n      const isColorChange = i % 3 !== 2; //if remainder !== 2, then i is one of the two grad-and-color subarrays (not the overwritting one, the 3rd subarray)\n\n      if (isColorChange) {\n        //if True\n        //then grab the 2 indices of the subarray\n        const [barOneIdx, barTwoIdx] = animations[i]; // [idx list1 of the item that was compared with, item at idx list2]\n        // get the style at these two indices\n\n        const barOneStyle = arrayBars[barOneIdx].style;\n        const barTwoStyle = arrayBars[barTwoIdx].style; // if i is a multiple of 3, change the color (secondary), otherwise let its primary color\n\n        const color = i % 3 === 0 ? RED_COLOR : INIT_COLOR; // The conditional (ternary) operator '?' is the only JavaScript operator that takes three operands: \n        // a condition followed by a question mark (?), then an expression to execute if the condition is \n        // truthy followed by a colon (:), and finally the expression to execute if the condition is falsy. \n        // This operator is frequently used as a shortcut for the if statement.\n        // link: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#:~:text=The%20conditional%20(ternary)%20operator%20is,if%20the%20condition%20is%20falsy.\n        //using a timeout, slowly change the colors of barOne and barTwo\n        // setTimeout( () => {\n        //     barOneStyle.backgroundColor = color;\n        //     barTwoStyle.backgroundColor = color;\n        // }, i * ANIMATION_SPEED_MS);\n\n        barOneStyle.backgroundColor = color;\n        barTwoStyle.backgroundColor = color;\n        endViz++;\n        await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n      } else {\n        //meaning if the remainder of i/3 === 2, then i is the subarray used for the overwritting \n        const [barOneIdx, newHeight] = animations[i]; // -> [idx to be overwritten, overwritting value], \n        // setTimeout( () => {\n        //     // then get the idx, get the value\n        //     // overwritte the old value\n        //     // arrayBars[barOneIdx].style.backgroundColor = OVERWRITTE_COLOR;\n        //     arrayBars[barOneIdx].style.height = `${newHeight}px`; \n        // }, i * ANIMATION_SPEED_MS);\n\n        arrayBars[barOneIdx].style.backgroundColor = OVERWRITTE_COLOR;\n        arrayBars[barOneIdx].style.height = `${newHeight}px`;\n        endViz++;\n        await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n      }\n    }\n\n    if (endViz === animations.length) {\n      this.finalViz();\n    }\n  }\n\n  async quickSort() {\n    const animations = doQuickSort(this.state.array);\n    console.log(animations);\n    console.log('sorted:', animations);\n\n    for (let i = 0; i < animations.length; i++) {\n      const arrayBars = document.getElementsByClassName('array-bar');\n\n      if (animations[i].length === 2) {\n        const [command, pivotIdx] = animations[i];\n        console.log('cmd pvtidx:', command, pivotIdx);\n        const barPivotStyle = arrayBars[pivotIdx].style;\n        barPivotStyle.backgroundColor = RED_COLOR;\n        await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n      } else {\n        console.log('else:', i);\n        const [command, barOneIdx, barTwoIdx] = animations[i];\n        console.log(command, barOneIdx, barTwoIdx);\n        const barOneStyle = arrayBars[barOneIdx].style;\n        const barTwoStyle = arrayBars[barTwoIdx].style;\n        console.log('barOneSTyle:', barOneStyle, 'barTwoStyle:', barTwoStyle);\n        console.log(typeof command);\n\n        switch (command) {\n          case -2:\n            barOneStyle.backgroundColor = SWAP_COLOR;\n            barTwoStyle.backgroundColor = SWAP_COLOR;\n            await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n            const temp = barOneStyle.height;\n            barOneStyle.height = barTwoStyle.height;\n            barTwoStyle.height = temp;\n            await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS)); // await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n\n            break;\n\n          case -3:\n            barOneStyle.backgroundColor = INIT_COLOR;\n            barTwoStyle.backgroundColor = INIT_COLOR;\n            await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS)); // await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n\n            break;\n\n          default:\n            barOneStyle.backgroundColor = INIT_COLOR;\n            barTwoStyle.backgroundColor = INIT_COLOR;\n        }\n      }\n\n      if (i === animations.length - 1) {\n        this.finalViz();\n      }\n    }\n  }\n\n  async bubbleSort() {\n    console.log(this.state.array);\n    const animations = doBubbleSort(this.state.array);\n    console.log(animations);\n\n    for (let i = 0; i < animations.length; i++) {\n      const arrayBars = document.getElementsByClassName('array-bar');\n      const [command, barOneIdx, barTwoIdx] = animations[i];\n      console.log('barTwoIdx:', barTwoIdx, 'arrayBars.length', arrayBars.length);\n\n      if (barTwoIdx === arrayBars.length) {\n        continue;\n      }\n\n      console.log(i, command, barOneIdx, barTwoIdx);\n      const barOneStyle = arrayBars[barOneIdx].style;\n      const barTwoStyle = arrayBars[barTwoIdx].style;\n\n      switch (command) {\n        case 0:\n          barOneStyle.backgroundColor = INIT_COLOR;\n          barTwoStyle.backgroundColor = INIT_COLOR;\n          await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n          break;\n\n        case 1:\n          barOneStyle.backgroundColor = RED_COLOR;\n          barTwoStyle.backgroundColor = RED_COLOR;\n          await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n          break;\n\n        case 2:\n          arrayBars[barOneIdx].style.backgroundColor = OVERWRITTE_COLOR;\n          arrayBars[barTwoIdx].style.backgroundColor = OVERWRITTE_COLOR;\n          const temp = barOneStyle.height;\n          barOneStyle.height = barTwoStyle.height;\n          barTwoStyle.height = temp;\n          await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n          break;\n\n        default:\n          barOneStyle.backgroundColor = INIT_COLOR;\n          barTwoStyle.backgroundColor = INIT_COLOR;\n      }\n\n      ;\n\n      if (i === animations.length - 1) {\n        this.finalViz();\n      }\n    }\n\n    ;\n  }\n\n  async insertionSort() {\n    const animations = doInsertionSort(this.state.array);\n    console.log(animations);\n\n    for (let i = 0; i < animations.length; i++) {\n      const arrayBars = document.getElementsByClassName('array-bar');\n\n      if (i[0] === 2) {\n        const [command, barOneIdx, barTwoIdx] = animations[i];\n        const barOneStyle = arrayBars[barOneIdx].style;\n        const barTwoStyle = arrayBars[barTwoIdx].style;\n        barOneStyle.height = arrayBars[barTwoIdx].height;\n      }\n\n      if (i[0] === 3) {\n        const [command, barOneIdx, key] = animations[i];\n        const barOneStyle = arrayBars[barOneIdx].style;\n        barOneStyle.height = key;\n      } // console.log('length:', animations[i].length);\n\n    }\n  } //finally, color the sorted list in green\n\n\n  async finalViz() {\n    console.log('in final viz');\n    const arrayBars = document.getElementsByClassName('array-bar');\n\n    for (let f = 0; f < arrayBars.length; f++) {\n      // setTimeout( () => {\n      //     const barStyle = arrayBars[f].style;\n      //     barStyle.backgroundColor = FINAL_SORTED_COLOR;\n      // }, f * ANIMATION_SPEED_MS * 2);\n      const barStyle = arrayBars[f].style;\n      barStyle.backgroundColor = FINAL_SORTED_COLOR;\n      await new Promise(resolve => setTimeout(resolve, ANIMATION_SPEED_MS));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"array-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.mergeSort(),\n          children: \"Merge Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.quickSort(),\n          children: \"Quick Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.bubbleSort(),\n          children: \"Bubble Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.insertionSort(),\n          children: \"Insertion Sort\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }, this), this.state.array.map((value, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"array-bar\",\n        style: {\n          backgroundColor: INIT_COLOR,\n          height: `${value}px`,\n          width: `${1.50 / 3 * window.innerWidth / this.state.array.length}px`\n        }\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default connect(mapStateToProps)(SortingVisualizer);","map":{"version":3,"sources":["/Users/urdoom/sorting_visualizer_react/src/sortingVisualizer/SortingVisualizer.js"],"names":["React","connect","doMergeSort","doQuickSort","doBubbleSort","doInsertionSort","mapStateToProps","state","myStoredList","listState","INIT_COLOR","RED_COLOR","SELECT_COLOR","SWAP_COLOR","OVERWRITTE_COLOR","FINAL_SORTED_COLOR","ANIMATION_SPEED_MS","SortingVisualizer","Component","constructor","props","array","componentDidUpdate","prevProps","prevState","snapshot","setState","mergeSort","animations","endViz","i","length","arrayBars","document","getElementsByClassName","isColorChange","barOneIdx","barTwoIdx","barOneStyle","style","barTwoStyle","color","backgroundColor","Promise","resolve","setTimeout","newHeight","height","finalViz","quickSort","console","log","command","pivotIdx","barPivotStyle","temp","bubbleSort","insertionSort","key","f","barStyle","render","map","value","idx","width","window","innerWidth"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,yBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,QAA4B,wCAA5B;AACA,SAASC,WAAT,QAA4B,gCAA5B;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,SAASC,eAAT,QAAgC,oCAAhC;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAE;AACjC;AACA,SAAO;AAAEC,IAAAA,YAAY,EAAED,KAAK,CAACE;AAAtB,GAAP;AAED,CAJH,C,CAMA;;;AACA,MAAMC,UAAU,GAAG,WAAnB;AACA,MAAMC,SAAS,GAAG,KAAlB;AACA,MAAMC,YAAY,GAAG,SAArB;AACA,IAAIC,UAAJ,EAAgBC,gBAAhB;AACAD,UAAU,GAAGC,gBAAgB,GAAG,SAAhC;AACA,MAAMC,kBAAkB,GAAG,SAA3B;AACA,MAAMC,kBAAkB,GAAG,EAA3B;;AAEA,MAAMC,iBAAN,SAAgCjB,KAAK,CAACkB,SAAtC,CAAgD;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKb,KAAL,GAAa;AAAEc,MAAAA,KAAK,EAAE;AAAT,KAAb,CAFe,CAGf;AACD;AACH;;;AACAC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,QAAvB,EAAiC;AAC/C;AACA;AACA,QAAIF,SAAS,CAACf,YAAV,KAA2B,KAAKY,KAAL,CAAWZ,YAA1C,EAAwD;AACpD;AACA;AACA;AACA,WAAKkB,QAAL,CAAc;AAAEL,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWZ;AAApB,OAAd;AAEH;AACJ;AACD;AACJ;;;AACmB,QAATmB,SAAS,GAAG;AACd,UAAMC,UAAU,GAAG1B,WAAW,CAAC,KAAKK,KAAL,CAAWc,KAAZ,CAA9B;AACA,QAAIQ,MAAM,GAAG,CAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAExC,YAAME,SAAS,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,CAAlB,CAFwC,CAEwB;;AAChE,YAAMC,aAAa,GAAGL,CAAC,GAAG,CAAJ,KAAU,CAAhC,CAHwC,CAGL;;AACnC,UAAIK,aAAJ,EAAmB;AAAE;AACjB;AACA,cAAM,CAACC,SAAD,EAAYC,SAAZ,IAAyBT,UAAU,CAACE,CAAD,CAAzC,CAFe,CAE+B;AAC9C;;AACA,cAAMQ,WAAW,GAAGN,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAAzC;AACA,cAAMC,WAAW,GAAGR,SAAS,CAACK,SAAD,CAAT,CAAqBE,KAAzC,CALe,CAMf;;AACA,cAAME,KAAK,GAAGX,CAAC,GAAG,CAAJ,KAAU,CAAV,GAAcnB,SAAd,GAA0BD,UAAxC,CAPe,CAQf;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AACA4B,QAAAA,WAAW,CAACI,eAAZ,GAA8BD,KAA9B;AACAD,QAAAA,WAAW,CAACE,eAAZ,GAA8BD,KAA9B;AACAZ,QAAAA,MAAM;AACN,cAAM,IAAIc,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACH,OAvBD,MAuBO;AACH;AACA,cAAM,CAACoB,SAAD,EAAYU,SAAZ,IAAyBlB,UAAU,CAACE,CAAD,CAAzC,CAFG,CAE2C;AAC9C;AACA;AAEA;AACA;AACA;AACA;;AACAE,QAAAA,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAArB,CAA2BG,eAA3B,GAA6C5B,gBAA7C;AACAkB,QAAAA,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAArB,CAA2BQ,MAA3B,GAAqC,GAAED,SAAU,IAAjD;AACAjB,QAAAA,MAAM;AACN,cAAM,IAAIc,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACH;AACJ;;AAED,QAAIa,MAAM,KAAKD,UAAU,CAACG,MAA1B,EAAmC;AAC/B,WAAKiB,QAAL;AACH;AACJ;;AAEc,QAATC,SAAS,GAAG;AACd,UAAMrB,UAAU,GAAGzB,WAAW,CAAC,KAAKI,KAAL,CAAWc,KAAZ,CAA9B;AACA6B,IAAAA,OAAO,CAACC,GAAR,CAAYvB,UAAZ;AACAsB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBvB,UAAtB;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,YAAME,SAAS,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,CAAlB;;AACA,UAAIN,UAAU,CAACE,CAAD,CAAV,CAAcC,MAAd,KAAyB,CAA7B,EAAgC;AAC5B,cAAM,CAACqB,OAAD,EAAUC,QAAV,IAAuBzB,UAAU,CAACE,CAAD,CAAvC;AACAoB,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BC,OAA3B,EAAoCC,QAApC;AACA,cAAMC,aAAa,GAAGtB,SAAS,CAACqB,QAAD,CAAT,CAAoBd,KAA1C;AACAe,QAAAA,aAAa,CAACZ,eAAd,GAAgC/B,SAAhC;AACA,cAAM,IAAIgC,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACH,OAND,MAMO;AACPkC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBrB,CAArB;AACA,cAAM,CAACsB,OAAD,EAAUhB,SAAV,EAAqBC,SAArB,IAAkCT,UAAU,CAACE,CAAD,CAAlD;AACAoB,QAAAA,OAAO,CAACC,GAAR,CAAYC,OAAZ,EAAqBhB,SAArB,EAAgCC,SAAhC;AACA,cAAMC,WAAW,GAAGN,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAAzC;AACA,cAAMC,WAAW,GAAGR,SAAS,CAACK,SAAD,CAAT,CAAqBE,KAAzC;AACAW,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4Bb,WAA5B,EAAyC,cAAzC,EAAyDE,WAAzD;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAOC,OAAnB;;AACA,gBAAOA,OAAP;AACI,eAAK,CAAC,CAAN;AACId,YAAAA,WAAW,CAACI,eAAZ,GAA8B7B,UAA9B;AACA2B,YAAAA,WAAW,CAACE,eAAZ,GAA8B7B,UAA9B;AACA,kBAAM,IAAI8B,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACA,kBAAMuC,IAAI,GAAGjB,WAAW,CAACS,MAAzB;AACAT,YAAAA,WAAW,CAACS,MAAZ,GAAqBP,WAAW,CAACO,MAAjC;AACAP,YAAAA,WAAW,CAACO,MAAZ,GAAqBQ,IAArB;AACA,kBAAM,IAAIZ,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN,CAPJ,CAQI;;AACF;;AACF,eAAK,CAAC,CAAN;AACIsB,YAAAA,WAAW,CAACI,eAAZ,GAA8BhC,UAA9B;AACA8B,YAAAA,WAAW,CAACE,eAAZ,GAA8BhC,UAA9B;AACA,kBAAM,IAAIiC,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN,CAHJ,CAII;;AACA;;AACJ;AACIsB,YAAAA,WAAW,CAACI,eAAZ,GAA8BhC,UAA9B;AACA8B,YAAAA,WAAW,CAACE,eAAZ,GAA8BhC,UAA9B;AAnBR;AAqBC;;AAEC,UAAIoB,CAAC,KAAKF,UAAU,CAACG,MAAX,GAAkB,CAA5B,EAAgC;AAC9B,aAAKiB,QAAL;AACH;AACJ;AACJ;;AAEe,QAAVQ,UAAU,GAAG;AACfN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK5C,KAAL,CAAWc,KAAvB;AACA,UAAMO,UAAU,GAAGxB,YAAY,CAAC,KAAKG,KAAL,CAAWc,KAAZ,CAA/B;AACA6B,IAAAA,OAAO,CAACC,GAAR,CAAYvB,UAAZ;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,YAAME,SAAS,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,CAAlB;AACA,YAAM,CAACkB,OAAD,EAAUhB,SAAV,EAAqBC,SAArB,IAAkCT,UAAU,CAACE,CAAD,CAAlD;AACAoB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Bd,SAA1B,EAAqC,kBAArC,EAAyDL,SAAS,CAACD,MAAnE;;AACA,UAAIM,SAAS,KAAKL,SAAS,CAACD,MAA5B,EAAoC;AAChC;AACH;;AACDmB,MAAAA,OAAO,CAACC,GAAR,CAAYrB,CAAZ,EAAesB,OAAf,EAAwBhB,SAAxB,EAAmCC,SAAnC;AACA,YAAMC,WAAW,GAAGN,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAAzC;AACA,YAAMC,WAAW,GAAGR,SAAS,CAACK,SAAD,CAAT,CAAqBE,KAAzC;;AACA,cAAOa,OAAP;AACI,aAAK,CAAL;AACId,UAAAA,WAAW,CAACI,eAAZ,GAA8BhC,UAA9B;AACA8B,UAAAA,WAAW,CAACE,eAAZ,GAA8BhC,UAA9B;AACA,gBAAM,IAAIiC,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACA;;AACJ,aAAK,CAAL;AACIsB,UAAAA,WAAW,CAACI,eAAZ,GAA8B/B,SAA9B;AACA6B,UAAAA,WAAW,CAACE,eAAZ,GAA8B/B,SAA9B;AACA,gBAAM,IAAIgC,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACA;;AACJ,aAAK,CAAL;AACIgB,UAAAA,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAArB,CAA2BG,eAA3B,GAA6C5B,gBAA7C;AACAkB,UAAAA,SAAS,CAACK,SAAD,CAAT,CAAqBE,KAArB,CAA2BG,eAA3B,GAA6C5B,gBAA7C;AACA,gBAAMyC,IAAI,GAAGjB,WAAW,CAACS,MAAzB;AACAT,UAAAA,WAAW,CAACS,MAAZ,GAAqBP,WAAW,CAACO,MAAjC;AACAP,UAAAA,WAAW,CAACO,MAAZ,GAAqBQ,IAArB;AACA,gBAAM,IAAIZ,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACA;;AACJ;AACIsB,UAAAA,WAAW,CAACI,eAAZ,GAA8BhC,UAA9B;AACA8B,UAAAA,WAAW,CAACE,eAAZ,GAA8BhC,UAA9B;AArBR;;AAsBC;;AACD,UAAIoB,CAAC,KAAKF,UAAU,CAACG,MAAX,GAAkB,CAA5B,EAAgC;AAC5B,aAAKiB,QAAL;AACH;AACJ;;AAAA;AACJ;;AAEkB,QAAbS,aAAa,GAAG;AAClB,UAAM7B,UAAU,GAAGvB,eAAe,CAAC,KAAKE,KAAL,CAAWc,KAAZ,CAAlC;AACA6B,IAAAA,OAAO,CAACC,GAAR,CAAYvB,UAAZ;;AACA,SAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,YAAME,SAAS,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,CAAlB;;AACA,UAAIJ,CAAC,CAAC,CAAD,CAAD,KAAS,CAAb,EAAgB;AACZ,cAAM,CAACsB,OAAD,EAAUhB,SAAV,EAAqBC,SAArB,IAAkCT,UAAU,CAACE,CAAD,CAAlD;AACA,cAAMQ,WAAW,GAAGN,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAAzC;AACA,cAAMC,WAAW,GAAGR,SAAS,CAACK,SAAD,CAAT,CAAqBE,KAAzC;AACAD,QAAAA,WAAW,CAACS,MAAZ,GAAqBf,SAAS,CAACK,SAAD,CAAT,CAAqBU,MAA1C;AACH;;AACD,UAAIjB,CAAC,CAAC,CAAD,CAAD,KAAS,CAAb,EAAgB;AACZ,cAAM,CAACsB,OAAD,EAAUhB,SAAV,EAAqBsB,GAArB,IAA4B9B,UAAU,CAACE,CAAD,CAA5C;AACA,cAAMQ,WAAW,GAAGN,SAAS,CAACI,SAAD,CAAT,CAAqBG,KAAzC;AACAD,QAAAA,WAAW,CAACS,MAAZ,GAAqBW,GAArB;AACH,OAZuC,CAcxC;;AACH;AACJ,GAvL2C,CA0LhD;;;AACgB,QAARV,QAAQ,GAAG;AACbE,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACE,UAAMnB,SAAS,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,WAAhC,CAAlB;;AACI,SAAK,IAAIyB,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAC3B,SAAS,CAACD,MAA1B,EAAkC4B,CAAC,EAAnC,EAAuC;AACnC;AACA;AACA;AACA;AACA,YAAMC,QAAQ,GAAG5B,SAAS,CAAC2B,CAAD,CAAT,CAAapB,KAA9B;AACAqB,MAAAA,QAAQ,CAAClB,eAAT,GAA2B3B,kBAA3B;AACA,YAAM,IAAI4B,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAU5B,kBAAV,CAAnC,CAAN;AACH;AACT;;AAEA6C,EAAAA,MAAM,GAAG;AACL,wBAAO;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,8BACH;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCACI;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAKlC,SAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAKsB,SAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAKO,UAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAKC,aAAL,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADG,EAOF,KAAKlD,KAAL,CAAWc,KAAX,CAAiByC,GAAjB,CAAqB,CAACC,KAAD,EAAQC,GAAR,kBAClB;AACA,QAAA,SAAS,EAAC,WADV;AAGA,QAAA,KAAK,EAAE;AACHtB,UAAAA,eAAe,EAAEhC,UADd;AAEHqC,UAAAA,MAAM,EAAG,GAAEgB,KAAM,IAFd;AAGHE,UAAAA,KAAK,EAAG,GAAG,OAAK,CAAN,GAASC,MAAM,CAACC,UAAhB,GAA2B,KAAK5D,KAAL,CAAWc,KAAX,CAAiBU,MAAO;AAH1D;AAHP,SAEKiC,GAFL;AAAA;AAAA;AAAA;AAAA,cADH,CAPE;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAkBH;;AA5N2C;;AAgOhD,eAAe/D,OAAO,CAACK,eAAD,CAAP,CAAyBW,iBAAzB,CAAf","sourcesContent":["import React from \"react\";\nimport './SortingVisualizer.css';\nimport { connect } from 'react-redux';\nimport { doMergeSort } from '../sortingAlgorithms/SortingAlgorithms'\nimport { doQuickSort } from '../sortingAlgorithms/QuickSort'\nimport { doBubbleSort } from '../sortingAlgorithms/BubbleSort'\nimport { doInsertionSort } from '../sortingAlgorithms/InsertionSort'\n\n/* ***** making this component check ig an element of the store has changed ******\nlinks:\nhttps://stackoverflow.com/questions/36557089/how-to-listen-for-specific-property-changes-in-redux-store-after-an-action-is-di\nhttps://stackoverflow.com/questions/36557089/how-to-listen-for-specific-property-changes-in-redux-store-after-an-action-is-di \n\n*********************************** */\n\nconst mapStateToProps = (state) => { // the store is accessible because we added Provider in index.js\n    // console.log('SortingViz mapStateToProps:',state.listState);\n    return { myStoredList: state.listState };\n    \n  };\n\n// This is the main color of the array bars.\nconst INIT_COLOR = 'turquoise';\nconst RED_COLOR = 'red';\nconst SELECT_COLOR = '#8000ff';\nvar SWAP_COLOR, OVERWRITTE_COLOR;\nSWAP_COLOR = OVERWRITTE_COLOR = '#f5bf42';\nconst FINAL_SORTED_COLOR = '#7dff84';\nconst ANIMATION_SPEED_MS = 10;\n\nclass SortingVisualizer extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { array: [] };\n        // console.log('this.array:', this.state.array);\n      }\n    /* compare previous list in store to the new actual list generated */\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        // console.log('prevprops:', prevProps); // -> { myStoredList: Array(..), dispatch: f }\n        // console.log('this.props:', this.props);\n        if (prevProps.myStoredList !== this.props.myStoredList) {\n            // Do whatever you want\n            // console.log('previous list:',prevProps.lmyStoredList);\n            // console.log('actual list:',this.props.myStoredList);\n            this.setState({ array: this.props.myStoredList });\n            \n        }\n    }\n    /* ************************************************************ */\n//to execute function asynchronously (async + await + new Promise + setTimout), link: https://dev.to/jameseaster/visualizing-merge-sort-3mnc\n    async mergeSort() {\n        const animations = doMergeSort(this.state.array) \n        let endViz = 0;\n        for (let i = 0; i < animations.length; i++) {\n\n            const arrayBars = document.getElementsByClassName('array-bar'); // get the array generated\n            const isColorChange = i % 3 !== 2; //if remainder !== 2, then i is one of the two grad-and-color subarrays (not the overwritting one, the 3rd subarray)\n            if (isColorChange) { //if True\n                //then grab the 2 indices of the subarray\n                const [barOneIdx, barTwoIdx] = animations[i]; // [idx list1 of the item that was compared with, item at idx list2]\n                // get the style at these two indices\n                const barOneStyle = arrayBars[barOneIdx].style;\n                const barTwoStyle = arrayBars[barTwoIdx].style;\n                // if i is a multiple of 3, change the color (secondary), otherwise let its primary color\n                const color = i % 3 === 0 ? RED_COLOR : INIT_COLOR;\n                // The conditional (ternary) operator '?' is the only JavaScript operator that takes three operands: \n                // a condition followed by a question mark (?), then an expression to execute if the condition is \n                // truthy followed by a colon (:), and finally the expression to execute if the condition is falsy. \n                // This operator is frequently used as a shortcut for the if statement.\n                // link: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator#:~:text=The%20conditional%20(ternary)%20operator%20is,if%20the%20condition%20is%20falsy.\n\n                //using a timeout, slowly change the colors of barOne and barTwo\n                // setTimeout( () => {\n                //     barOneStyle.backgroundColor = color;\n                //     barTwoStyle.backgroundColor = color;\n                // }, i * ANIMATION_SPEED_MS);\n                barOneStyle.backgroundColor = color;\n                barTwoStyle.backgroundColor = color;\n                endViz++;\n                await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n            } else {\n                //meaning if the remainder of i/3 === 2, then i is the subarray used for the overwritting \n                const [barOneIdx, newHeight] = animations[i]; // -> [idx to be overwritten, overwritting value], \n                // setTimeout( () => {\n                //     // then get the idx, get the value\n                    \n                //     // overwritte the old value\n                //     // arrayBars[barOneIdx].style.backgroundColor = OVERWRITTE_COLOR;\n                //     arrayBars[barOneIdx].style.height = `${newHeight}px`; \n                // }, i * ANIMATION_SPEED_MS);\n                arrayBars[barOneIdx].style.backgroundColor = OVERWRITTE_COLOR;\n                arrayBars[barOneIdx].style.height = `${newHeight}px`; \n                endViz++;\n                await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n            }\n        } \n\n        if (endViz === animations.length ) {\n            this.finalViz();\n        }\n    }\n\n    async quickSort() {\n        const animations = doQuickSort(this.state.array);\n        console.log(animations);\n        console.log('sorted:',animations);\n        for (let i = 0; i < animations.length; i++) {\n            const arrayBars = document.getElementsByClassName('array-bar'); \n            if (animations[i].length === 2) {\n                const [command, pivotIdx] =  animations[i];\n                console.log('cmd pvtidx:', command, pivotIdx);\n                const barPivotStyle = arrayBars[pivotIdx].style;\n                barPivotStyle.backgroundColor = RED_COLOR;\n                await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n            } else {\n            console.log('else:', i);\n            const [command, barOneIdx, barTwoIdx] = animations[i];\n            console.log(command, barOneIdx, barTwoIdx);\n            const barOneStyle = arrayBars[barOneIdx].style;\n            const barTwoStyle = arrayBars[barTwoIdx].style;\n            console.log('barOneSTyle:', barOneStyle, 'barTwoStyle:', barTwoStyle);\n            console.log(typeof command);\n            switch(command) {\n                case -2:\n                    barOneStyle.backgroundColor = SWAP_COLOR;\n                    barTwoStyle.backgroundColor = SWAP_COLOR;\n                    await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    const temp = barOneStyle.height;\n                    barOneStyle.height = barTwoStyle.height;\n                    barTwoStyle.height = temp;\n                    await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    // await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                  break;\n                case -3:\n                    barOneStyle.backgroundColor = INIT_COLOR;\n                    barTwoStyle.backgroundColor = INIT_COLOR;\n                    await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    // await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    break\n                default:\n                    barOneStyle.backgroundColor = INIT_COLOR;\n                    barTwoStyle.backgroundColor = INIT_COLOR;\n              }\n            }\n            \n              if (i === animations.length-1 ) {\n                this.finalViz();\n            }\n        }\n    }\n\n    async bubbleSort() {\n        console.log(this.state.array);\n        const animations = doBubbleSort(this.state.array);\n        console.log(animations);\n        for (let i = 0; i < animations.length; i++) {\n            const arrayBars = document.getElementsByClassName('array-bar'); \n            const [command, barOneIdx, barTwoIdx] = animations[i];\n            console.log('barTwoIdx:', barTwoIdx, 'arrayBars.length', arrayBars.length);\n            if (barTwoIdx === arrayBars.length) {\n                continue;\n            }\n            console.log(i, command, barOneIdx, barTwoIdx);\n            const barOneStyle = arrayBars[barOneIdx].style;\n            const barTwoStyle = arrayBars[barTwoIdx].style;\n            switch(command) {\n                case 0: \n                    barOneStyle.backgroundColor = INIT_COLOR;\n                    barTwoStyle.backgroundColor = INIT_COLOR;\n                    await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    break;\n                case 1:\n                    barOneStyle.backgroundColor = RED_COLOR;\n                    barTwoStyle.backgroundColor = RED_COLOR;\n                    await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    break;\n                case 2:\n                    arrayBars[barOneIdx].style.backgroundColor = OVERWRITTE_COLOR;\n                    arrayBars[barTwoIdx].style.backgroundColor = OVERWRITTE_COLOR;\n                    const temp = barOneStyle.height;\n                    barOneStyle.height = barTwoStyle.height;\n                    barTwoStyle.height = temp;\n                    await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n                    break;\n                default:\n                    barOneStyle.backgroundColor = INIT_COLOR;\n                    barTwoStyle.backgroundColor = INIT_COLOR;\n            };\n            if (i === animations.length-1 ) {\n                this.finalViz();\n            }\n        };\n    }\n\n    async insertionSort() {\n        const animations = doInsertionSort(this.state.array);\n        console.log(animations);\n        for (let i = 0; i < animations.length; i++) {\n            const arrayBars = document.getElementsByClassName('array-bar'); \n            if (i[0] === 2) {\n                const [command, barOneIdx, barTwoIdx] = animations[i];\n                const barOneStyle = arrayBars[barOneIdx].style;\n                const barTwoStyle = arrayBars[barTwoIdx].style;\n                barOneStyle.height = arrayBars[barTwoIdx].height;\n            }\n            if (i[0] === 3) {\n                const [command, barOneIdx, key] = animations[i];\n                const barOneStyle = arrayBars[barOneIdx].style;\n                barOneStyle.height = key;\n            }\n            \n            // console.log('length:', animations[i].length);\n        }\n    }\n    \n\n//finally, color the sorted list in green\n  async finalViz() {\n      console.log('in final viz');\n        const arrayBars = document.getElementsByClassName('array-bar');\n            for (let f=0; f<arrayBars.length; f++) {\n                // setTimeout( () => {\n                //     const barStyle = arrayBars[f].style;\n                //     barStyle.backgroundColor = FINAL_SORTED_COLOR;\n                // }, f * ANIMATION_SPEED_MS * 2);\n                const barStyle = arrayBars[f].style;\n                barStyle.backgroundColor = FINAL_SORTED_COLOR;\n                await new Promise((resolve) => setTimeout(resolve, ANIMATION_SPEED_MS));\n            } \n   }; \n    \n    render() {\n        return <div className='array-container'>\n            <div className='buttons-container'>\n                <button onClick={() => this.mergeSort()}>Merge Sort</button>\n                <button onClick={() => this.quickSort()}>Quick Sort</button>\n                <button onClick={() => this.bubbleSort()}>Bubble Sort</button>\n                <button onClick={() => this.insertionSort()}>Insertion Sort</button>\n            </div>\n            {this.state.array.map((value, idx) => (\n                <div\n                className=\"array-bar\"\n                key={idx}\n                style={{\n                    backgroundColor: INIT_COLOR,\n                    height: `${value}px`,\n                    width: `${(1.50/3)*window.innerWidth/this.state.array.length}px`,\n                }}></div>\n            ))}\n        </div> ;\n    }; \n}\n\n\nexport default connect(mapStateToProps)(SortingVisualizer);"]},"metadata":{},"sourceType":"module"}